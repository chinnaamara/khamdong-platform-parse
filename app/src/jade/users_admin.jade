//
   Created by chinna on 11/9/14.

section.container(ng-if='administrator')
    .col-lg-12
        div
            h2.text-center List of Users
        div
            .main-div
                .row
                    .col-xs-4.pull-left
                        select.btn-primary.input-sm(
                        name='selectWard',
                        ng-options='ward._serverData.wardName as ward._serverData.wardName for ward in wards',
                        ng-model='selectedWard',
                        ng-change='filterUsers()',
                        title='Users By Wards',
                        required)
                            option(value='',selected) -- All Wards --
                    .col-xs-8
                        .pull-right
                            input(type="search", class="input-sm", ng-model="searchKey", placeholder="Enter Mobile Number", title='Enter Mobile Number to Search Here..')
                            a.btn.btn-sm.btn-success(ng-click='searchResult()')
                                span.glyphicon.glyphicon-search
                                |       Search
                br
                .table-responsive
                    table(class="table table-striped table-bordered table-condensed")
                        thead.table-head
                            th
                            th User Id
                            th User Name
                            th Mobile Number
                            th Ward
                            th Role
                            th Created At
                            th Updated At
                        tbody
                            tr(ng-repeat='user in users')
                                td
                                    button.btn.btn-info.btn-sm#manage(ng-click="manageUser(user)")
                                        span.glyphicon.glyphicon-edit
                                        |   Manage
                                td
                                    | {{ user.id }}
                                td
                                    | {{ user._serverData.username }}
                                td
                                    | {{ user._serverData.mobileNumber }}
                                td
                                    | {{ user._serverData.ward }}
                                td
                                    | {{ user._serverData.role }}
                                td
                                    | {{ user.createdAt }}
                                td
                                    | {{ user.updatedAt }}
                    .pull-right
                        button.btn.btn-info.btn-sm#prev(ng-click='pageBack()', ng-disabled='noPrevious')
                            span.glyphicon.glyphicon-arrow-left
                            |       Previous
                        button.btn.btn-info.btn-sm#next(ng-click='pageNext()', ng-disabled='noNext')
                            |       Next
                            | &nbsp;
                            span.glyphicon.glyphicon-arrow-right

